# FastAPI Template Environment Configuration
# Copy this file to .env and customize for your project

# =============================================================================
# PROJECT CONFIGURATION
# =============================================================================
PROJECT_NAME=FastAPI Template
VERSION=1.0.0
DESCRIPTION=FastAPI Template with Authentication
API_V1_STR=/api
ENVIRONMENT=development

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
SECRET_KEY=dev_secret_key_change_in_production
ACCESS_TOKEN_EXPIRE_MINUTES=15
ALGORITHM=HS256

# Refresh Token Configuration
REFRESH_TOKEN_EXPIRE_DAYS=30
REFRESH_TOKEN_COOKIE_NAME=refresh_token
REFRESH_TOKEN_COOKIE_SECURE=false
REFRESH_TOKEN_COOKIE_HTTPONLY=true
REFRESH_TOKEN_COOKIE_SAMESITE=lax
REFRESH_TOKEN_COOKIE_PATH=/api/v1/auth

# Session Management
MAX_SESSIONS_PER_USER=5
SESSION_CLEANUP_INTERVAL_HOURS=24

# Superuser Bootstrap (optional)
FIRST_SUPERUSER=admin@example.com
FIRST_SUPERUSER_PASSWORD=your_secure_password

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://postgres:dev_password_123@localhost:5432/fastapi_template

# Database Connection Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_RECYCLE=3600
DB_POOL_TIMEOUT=30
DB_POOL_PRE_PING=true

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================
# Docker Compose project name (prevents container name conflicts)
COMPOSE_PROJECT_NAME=fast-api-template

# Docker Ports
POSTGRES_PORT=5432
API_PORT=8000
REDIS_PORT=6379
PGBOUNCER_PORT=5433

# PostgreSQL Database Configuration
POSTGRES_DB=fastapi_template
POSTGRES_USER=postgres
POSTGRES_PASSWORD=dev_password_123

# =============================================================================
# REDIS CONFIGURATION (Optional)
# =============================================================================
ENABLE_REDIS=false
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# WEBSOCKETS (Optional)
# =============================================================================
ENABLE_WEBSOCKETS=false

# =============================================================================
# CELERY BACKGROUND TASKS (Optional)
# =============================================================================
ENABLE_CELERY=false
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true
CELERY_TASK_TRACK_STARTED=true
CELERY_TASK_TIME_LIMIT=1800
CELERY_TASK_SOFT_TIME_LIMIT=1500
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000

# Celery Test Configuration
CELERY_TASK_ALWAYS_EAGER=false
CELERY_TASK_EAGER_PROPAGATES=false

# =============================================================================
# RATE LIMITING (Optional)
# =============================================================================
ENABLE_RATE_LIMITING=false
RATE_LIMIT_STORAGE_BACKEND=memory
RATE_LIMIT_DEFAULT=100/minute
RATE_LIMIT_LOGIN=5/minute
RATE_LIMIT_REGISTER=3/minute
RATE_LIMIT_EMAIL_VERIFICATION=3/minute
RATE_LIMIT_PASSWORD_RESET=3/minute
RATE_LIMIT_OAUTH=10/minute
RATE_LIMIT_ACCOUNT_DELETION=3/minute

# =============================================================================
# OAUTH CONFIGURATION (Optional)
# =============================================================================
# GOOGLE_CLIENT_ID=your_google_client_id
# GOOGLE_CLIENT_SECRET=your_google_client_secret
# APPLE_CLIENT_ID=your_apple_client_id
# APPLE_TEAM_ID=your_apple_team_id
# APPLE_KEY_ID=your_apple_key_id
# APPLE_PRIVATE_KEY=your_apple_private_key

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
# SMTP_USERNAME=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
SMTP_TLS=true
SMTP_SSL=false
FROM_EMAIL=noreply@example.com
FROM_NAME=FastAPI Template

# Email Verification
VERIFICATION_TOKEN_EXPIRE_HOURS=24
FRONTEND_URL=http://localhost:3000

# Password Reset
PASSWORD_RESET_TOKEN_EXPIRE_HOURS=1

# Account Deletion (GDPR compliance)
ACCOUNT_DELETION_TOKEN_EXPIRE_HOURS=24
ACCOUNT_DELETION_GRACE_PERIOD_DAYS=7
ACCOUNT_DELETION_REMINDER_DAYS=[3,1]

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Comma-separated list of allowed origins
BACKEND_CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:4200

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_FILE_LOGGING=false
LOG_FILE_PATH=logs/app.log
LOG_FILE_MAX_SIZE=10MB
LOG_FILE_BACKUP_COUNT=5
ENABLE_COLORED_LOGS=true
LOG_INCLUDE_TIMESTAMP=true
LOG_INCLUDE_PID=true
LOG_INCLUDE_THREAD=true

# =============================================================================
# ERROR MONITORING (Optional)
# =============================================================================
ENABLE_SENTRY=false
# SENTRY_DSN=your_sentry_dsn
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# =============================================================================
# API KEY CONFIGURATION
# =============================================================================
# API key expiration in days (0 = never expire)
API_KEY_EXPIRE_DAYS=365

# =============================================================================
# AUDIT LOGGING
# =============================================================================
# Enable audit logging for sensitive operations
ENABLE_AUDIT_LOGGING=true
AUDIT_LOG_RETENTION_DAYS=90
